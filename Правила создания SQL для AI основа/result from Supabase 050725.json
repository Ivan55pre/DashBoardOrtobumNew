-- WARNING: This schema is for context only and is not meant to be run.
-- Table order and constraints may not be valid for execution.

CREATE TABLE public.document_metadata (
  id text NOT NULL,
  title text,
  url text,
  schema text,
  created_at timestamp without time zone DEFAULT now(),
  CONSTRAINT document_metadata_pkey PRIMARY KEY (id)
);
CREATE TABLE public.document_rows (
  dataset_id text,
  row_data jsonb,
  id integer NOT NULL DEFAULT nextval('document_rows_id_seq'::regclass),
  CONSTRAINT document_rows_pkey PRIMARY KEY (id),
  CONSTRAINT document_rows_dataset_id_fkey FOREIGN KEY (dataset_id) REFERENCES public.document_metadata(id)
);
CREATE TABLE public.documents (
  content text,
  metadata jsonb,
  embedding USER-DEFINED,
  id bigint NOT NULL DEFAULT nextval('documents_id_seq'::regclass),
  CONSTRAINT documents_pkey PRIMARY KEY (id)
);
CREATE TABLE public.n8n_chat_histories (
  session_id character varying NOT NULL,
  message jsonb NOT NULL,
  id integer NOT NULL DEFAULT nextval('n8n_chat_histories_id_seq'::regclass),
  CONSTRAINT n8n_chat_histories_pkey PRIMARY KEY (id)
);
CREATE TABLE public.usersbot (
  user_format text DEFAULT 'pdf'::text,
  user_id bigint NOT NULL,
  user_name text,
  user_pass text,
  user_secret text,
  is_subscribed boolean DEFAULT false,
  CONSTRAINT usersbot_pkey PRIMARY KEY (user_id)
);